<section class="content-header">
    <h1>
        推荐系统<small>搜索关键字</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>首页</a></li>
        <li class="active">推荐系统</li>
        <li class="active">搜索关键字</li>
    </ol>
</section>
<section class="content">
            <div class="row">
                <div class="col-xs-12">
                    <div class="nav-tabs-custom">
                        <ul class="nav nav-tabs">
                            <li class="pull-right header">
                                <button type="submit" class="btn btn-primary btn-sm" data-pain="add">添加</button>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="GameLink-system01">
                                <form class="form-horizontal">
                                    <div class="box-body box-body-system">
                                        <div class="box box-primary listInd">
                                            <div class="box-header with-border" style="position: relative;">
                                                <span style="display: block;position: absolute;top:0;bottom:0;left:60px;right:80px;cursor: pointer;"></span>
                                                <h3 class="box-title">图1 <input type="hidden" name="1"></h3>
                                                <div class="pull-right box-tools">
                                                    <button type="button" class="btn btn-danger btn-sm" data-pain="remove">删除</button>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">标题</label>
                                                    <div class="col-sm-10">
                                                        <div class="col-xs-5" style="padding-left:0;">
                                                            <input type="text" class="form-control" placeholder="请输入游戏名称......">
                                                        </div>
                                                        <div class="col-xs-7"><span class="help-block"></span></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">链接</label>
                                                    <div class="col-sm-10">
                                                        <div class="col-xs-5" style="padding-left:0;">
                                                            <input type="text" class="form-control" placeholder="请输入游戏名称......">
                                                        </div>
                                                        <div class="col-xs-7"><span class="help-block"></span></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">图片</label>
                                                    <div class="col-sm-10"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="box box-primary listInd">
                                            <div class="box-header with-border" style="position: relative;">
                                                <span style="display: block;position: absolute;top:0;bottom:0;left:60px;right:80px;cursor: pointer;"></span>
                                                <h3 class="box-title">图2 <input type="hidden" name="2"></h3>
                                                <div class="pull-right box-tools">
                                                    <button type="button" class="btn btn-danger btn-sm" data-pain="remove">删除</button>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">标题</label>
                                                    <div class="col-sm-10">
                                                        <div class="col-xs-5" style="padding-left:0;">
                                                            <input type="text" class="form-control" placeholder="请输入游戏名称......">
                                                        </div>
                                                        <div class="col-xs-7"><span class="help-block"></span></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">链接</label>
                                                    <div class="col-sm-10">
                                                        <div class="col-xs-5" style="padding-left:0;">
                                                            <input type="text" class="form-control" placeholder="请输入游戏名称......">
                                                        </div>
                                                        <div class="col-xs-7"><span class="help-block"></span></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">图片</label>
                                                    <div class="col-sm-10"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="box box-primary listInd">
                                            <div class="box-header with-border" style="position: relative;">
                                                <span style="display: block;position: absolute;top:0;bottom:0;left:60px;right:80px;cursor: pointer;"></span>
                                                <h3 class="box-title">图3 <input type="hidden" name="3"></h3>
                                                <div class="pull-right box-tools">
                                                    <button type="button" class="btn btn-danger btn-sm" data-pain="remove">删除</button>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">标题</label>
                                                    <div class="col-sm-10">
                                                        <div class="col-xs-5" style="padding-left:0;">
                                                            <input type="text" class="form-control" placeholder="请输入游戏名称......">
                                                        </div>
                                                        <div class="col-xs-7"><span class="help-block"></span></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">链接</label>
                                                    <div class="col-sm-10">
                                                        <div class="col-xs-5" style="padding-left:0;">
                                                            <input type="text" class="form-control" placeholder="请输入游戏名称......">
                                                        </div>
                                                        <div class="col-xs-7"><span class="help-block"></span></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">图片</label>
                                                    <div class="col-sm-10"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="box-footer text-right">
                                        <button type="submit" class="btn btn-info">保 存</button>
                                        <button type="submit" class="btn btn-default">发 布</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


<script type="text/javascript">
    function IndexNum(_divbox){
        $.each($(_divbox+' div.dads-children'),function(){
            var New_num=$(this).index()+1;
            $(this).find('h3').html('图'+New_num+'<input type="hidden" name="'+New_num+'">');
        });
    }

    function Dad(_divbox){
        $(_divbox+" div.box-body").dad({
            draggable: 'span',
            childrenClass:'dads-children',
            callback: function(){
                IndexNum(_divbox);
            }
        });
    }
    function event(_divbox){
        $(_divbox).delegate("button","click",function(){
            if($(this).attr("data-pain")=="remove"){
                $(this).parents(".dads-children").animate({"height":0},500,function(){
                    $(this).remove();
                    IndexNum(_divbox);
                });

            }
        });
    }
    $(function(){
        // 发现模块-焦点图
        Dad("#GameLink-system01");
        event("#GameLink-system01");
        // 搜索关键词
        Dad("#GameLink-system02");
        event("#GameLink-system02");

        $("button").click(function(){
            if($(this).attr("data-pain")=="add"){
                var GameLinkSystem=$(".tab-content .tab-pane.active").attr("id");
                var Leng,html='';
                if(GameLinkSystem=='GameLink-system01'){
                    Leng=$("#"+GameLinkSystem+" div.listInd").size()+1;
                    html+='<div class="box box-primary">';
                    html+='<div class="box-header with-border" style="position: relative;">';
                    html+='<span style="display: block;position: absolute;top:0;bottom:0;left:60px;right:80px;cursor: pointer;"></span>';
                    html+='<h3 class="box-title">图'+Leng+'<input type="hidden" name="'+Leng+'"></h3>';
                    html+='<div class="pull-right box-tools">';
                    html+='<button type="button" class="btn btn-danger btn-sm" data-pain="remove">删除</button>';
                    html+='</div>';
                    html+='</div>';
                    html+='<div class="box-body">';
                    html+='<div class="form-group">';
                    html+='<label class="col-sm-2 control-label">标题</label>';
                    html+='<div class="col-sm-10">';
                    html+='<div class="col-xs-5" style="padding-left:0;">';
                    html+='<input type="text" class="form-control" placeholder="请输入游戏名称......">';
                    html+='</div>';
                    html+='<div class="col-xs-7"><span class="help-block"></span></div>';
                    html+='</div>';
                    html+='</div>';
                    html+='<div class="form-group">';
                    html+='<label class="col-sm-2 control-label">链接</label>';
                    html+='<div class="col-sm-10">';
                    html+='<div class="col-xs-5" style="padding-left:0;">';
                    html+='<input type="text" class="form-control" placeholder="请输入游戏名称......">';
                    html+='</div>';
                    html+='<div class="col-xs-7"><span class="help-block"></span></div>';
                    html+='</div>';
                    html+='</div>';
                    html+='<div class="form-group">';
                    html+='<label class="col-sm-2 control-label">图片</label>';
                    html+='<div class="col-sm-10"></div>';
                    html+='</div>';
                    html+='</div>';
                    html+='</div>';
                }else if(GameLinkSystem=='GameLink-system02'){
                    Leng=$("#"+GameLinkSystem+" div.listInd").size()+1;
                    html+='<div class="box box-primary listInd">';
                    html+='<div class="box-header with-border" style="position: relative;">';
                    html+='<span style="display: block;position: absolute;top:0;bottom:0;left:60px;right:80px;cursor: pointer;"></span>';
                    html+='<h3 class="box-title">图'+Leng+' <input type="hidden" name="'+Leng+'"></h3>';
                    html+='<div class="pull-right box-tools">';
                    html+='<button type="button" class="btn btn-danger btn-sm" data-pain="remove">删除</button>';
                    html+='</div>';
                    html+='</div>';
                    html+='<div class="box-body">';
                    html+='<div class="form-group">';
                    html+='<label class="col-sm-2 control-label">1.关键词</label>';
                    html+='<div class="col-sm-10">';
                    html+='<div class="col-xs-5" style="padding-left:0;">';
                    html+='<input type="text" class="form-control" placeholder="关键词......">';
                    html+='</div>';
                    html+='<div class="col-xs-7"><span class="help-block"></span></div>';
                    html+='</div>';
                    html+='</div>';
                    html+='<div class="form-group">';
                    html+='<label class="col-sm-2 control-label">2.关键词</label>';
                    html+='<div class="col-sm-10">';
                    html+='<div class="col-xs-5" style="padding-left:0;">';
                    html+='<input type="text" class="form-control" placeholder="关键词......">';
                    html+='</div>';
                    html+='<div class="col-xs-7"><span class="help-block"></span></div>';
                    html+='</div>';
                    html+='</div>';
                    html+='<div class="form-group">';
                    html+='<label class="col-sm-2 control-label">3.关键词</label>';
                    html+='<div class="col-sm-10">';
                    html+='<div class="col-xs-5" style="padding-left:0;">';
                    html+='<input type="text" class="form-control" placeholder="关键词......">';
                    html+='</div>';
                    html+='<div class="col-xs-7"><span class="help-block"></span></div>';
                    html+='</div>';
                    html+='</div>';
                    html+='</div>';
                    html+='</div>';
                }

                $("#"+GameLinkSystem+" div.box-body-system").append(html);
                Dad("#"+GameLinkSystem);
                IndexNum("#"+GameLinkSystem);
            }
        });


    });
</script>        